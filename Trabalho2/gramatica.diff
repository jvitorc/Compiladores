diff --git a/Trabalho2/gramatica.g4 b/Trabalho2/gramatica.g4
index a4c7514..a6c3100 100644
--- a/Trabalho2/gramatica.g4
+++ b/Trabalho2/gramatica.g4
@@ -86,45 +86,45 @@ expression: numexpression comparadores numexpression
     | numexpression
     ;
 
-maisoumenos: MAIS 
-    | MENOS
+maisoumenos returns [value]: MAIS {$value = $MAIS.text} 
+    | MENOS {$value = $MENOS.text}
     ;
 
-e: maisoumenos term e
-    |
+e[inhr] returns [syn]: maisoumenos term e[new Node($maisoumenos.value, $inhr, $term.node)] {$syn = $e.syn}
+    | {$syn = $inhr}
     ;
 
-numexpression: term e;
+numexpression: term e[$term.node] {print($e.syn.pre_order())};
 
-mdm: MULTIPLICACAO 
-    | DIVISAO 
-    | MODULO
+mdm returns [value]: MULTIPLICACAO {$value = $MULTIPLICACAO.text}
+    | DIVISAO {$value = $DIVISAO.text}
+    | MODULO {$value = $MODULO.text}
     ;
 
-f: mdm unaryexpr f
-    |
+f[inhr] returns [syn]: mdm unaryexpr f[new Node($mdm.value, $inhr, $unaryexpr.node)] {$syn = $f.syn}
+    | {$syn = $inhr}
     ;
 
-term: unaryexpr f;
+term returns [node]: unaryexpr f[$unaryexpr.node] {$node = f.syn};
 
-unaryexpr: maisoumenos factor
-    | factor
+unaryexpr returns [node]: maisoumenos factor {$node = new Node($maisoumenos.value, right=$factor.node)}
+    | factor {$node = $factor.node}
     ;
 
 
-factor: INT_CONSTANT
-    | FLOAT_CONSTANT
-    | STRING_CONSTANT
-    | NULL
-    | lvalue
-    | PARENTEA numexpression PARENTEF
+factor returns [node]: INT_CONSTANT {$node = new Leaf($INT_CONSTANT.type, $INT_CONSTANT.text)}
+    | FLOAT_CONSTANT {$node = new Leaf($FLOAT_CONSTANT.type, $FLOAT_CONSTANT.text)}
+    | STRING_CONSTANT {$node = new Leaf($STRING_CONSTANT.type, $STRING_CONSTANT.text)}
+    | NULL {$node = new Leaf($NULL.type, $NULL.text)}
+    | lvalue {$node = $lvalue.node}
+    | PARENTEA numexpression {$node = $numexpression.node} PARENTEF
     ;
 
 g: COLCHA numexpression COLCHF g
     |
     ;
 
-lvalue: IDENT g;
+lvalue returns [node]: IDENT {$node = new Leaf(IDENT.type, IDENT.text)} g;
 
 DEF: 'def';
 INT: 'int';
@@ -208,4 +208,4 @@ IDENT: ('a'..'z'|'A'..'Z'|'_') ('a'..'z'|'A'..'Z'|'_'|'0'..'9')*;
 INT_CONSTANT: '0' | ('1'..'9')('0'..'9')*;
 FLOAT_CONSTANT: ( '0' | ('1'..'9')('0'..'9')* )'.'('0'..'9')+;
 STRING_CONSTANT:  '"'('a'..'z'|'A'..'Z'|'_'|'0'..'9'| CESPECIAL)*'"';
-WS : [ \r\t\n]+ -> skip;
\ No newline at end of file
+WS : [ \r\t\n]+ -> skip;
